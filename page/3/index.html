<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="LmQ9SCZE5kbkyLAvfkDlSKP0kXVrXGSzVvWI8kgCCgQ" />
  
  <title>第 3 页 | Kay Wu&#39;s blog</title>
  <meta name="author" content="Kay Wu">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Kay Wu&#39;s blog"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Kay Wu&#39;s blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-75043389-1', 'auto');
	ga('send', 'pageview');

</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Kay Wu&#39;s blog</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-20T09:05:19.000Z"><a href="/2016/11/20/ruby-super/">2016-11-20</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/20/ruby-super/">Ruby super 关键字</a></h1>
  

    </header>
    <div class="entry">
      
        <p>由于之前没接触过 Ruby super 的用法，想当然地按照 Java 的方法来使用，闹出了一个匪夷所思的 Bug。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a_method</span><span class="params">(arg)</span></span></div><div class="line">        arg</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a_method</span><span class="params">(arg)</span></span></div><div class="line">        <span class="keyword">super</span>.a_method(arg)</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">B.new.a_method(<span class="number">1</span>) <span class="comment"># =&gt; NoMethodError: undefined method `a_method' for 1:Fixnum</span></div></pre></td></tr></table></figure>
<p>查了下才知，原来在 Ruby 中调用父类的同名方法， 只需使用 super，而不需再加上方法的名字。<br>上述代码改成如下即可。<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a_method</span><span class="params">(arg)</span></span></div><div class="line">        <span class="keyword">super</span>(arg)</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<p>那想调用父类的其他方法要如何？可以使用 <code>method(:foo).super_method.call</code> 来调用父类的 foo 方法。</p>
<p>编程这事，果然不能想当然，不然坑得是自己。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://stackoverflow.com/questions/2564391/how-do-i-call-a-super-class-method" target="_blank" rel="external">http://stackoverflow.com/questions/2564391/how-do-i-call-a-super-class-method</a></li>
<li><a href="http://ruby-doc.org/docs/keywords/1.9/files/keywords_rb.html#M000034" target="_blank" rel="external">http://ruby-doc.org/docs/keywords/1.9/files/keywords_rb.html#M000034</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-10-16T08:49:33.000Z"><a href="/2016/10/16/meta-programming/">2016-10-16</a></time>
      
      
  
    <h1 class="title"><a href="/2016/10/16/meta-programming/">Ruby 元编程</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Ch-1"><a href="#Ch-1" class="headerlink" title="Ch.1"></a>Ch.1</h2><h3 id="打开类"><a href="#打开类" class="headerlink" title="打开类"></a>打开类</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span>;</span> <span class="string">'x'</span>; <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">y</span>;</span> <span class="string">'y'</span>; <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line">obj = D.new</div><div class="line">obj.x <span class="comment"># =&gt; 'x'</span></div><div class="line">obj.y <span class="comment"># =&gt; 'y'</span></div></pre></td></tr></table></figure>
<p>在上面的代码中，当第一次提及 class D 时，还没有一个叫做 D 的类存在。因此，Ruby 开始着手定义这个类，并定义 x() 方法。在第二次提及 D 类时，它已经存在，Ruby 就不用再定义它了。Ruby 只要重新打开这个已经存在的类，并为之定义 y() 方法。从某种意义上说，Rub y的 class 关键字更像是一个作用域操作符而不是类型声明语句。它的确可以创建一个还不存在的类，不过也可以把这看成是一种副作用。对于 class 关键字，其核心任务是把你带到类的上下文中，让你可以在其中定义方法。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/10/16/meta-programming/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-09-25T03:50:53.000Z"><a href="/2016/09/25/pointer-index-out-of-range/">2016-09-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/09/25/pointer-index-out-of-range/">探索 pointerIndex out of range</a></h1>
  

    </header>
    <div class="entry">
      
        <p>最近 App 里报了一个奇怪的 Exception。为什么说奇怪呢，因为它发生的概率不是很大，但每天总有那么几个。这种非必现的问题，解决起来最是麻烦。查了下代码，发现是 <code>event.getY()</code> 报错，我刚看到的反应是：纳尼，这里都能报错？网上查找了下解决方案，大致都是在  <code>onTouchEvent</code> 里面或外面包一层 try…catch。能解决问题，可惜不够优雅。 于是花了些时间研究下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">java.lang.IllegalArgumentException: pointerIndex out of range</div><div class="line">    at android.view.MotionEvent.nativeGetAxisValue(Native Method)</div><div class="line">    at android.view.MotionEvent.getY(MotionEvent.java:<span class="number">1994</span>)</div><div class="line">    at com.kay.example.DemoView.onTouchEvent(HomeView.java:<span class="number">184</span>)</div><div class="line">    at android.view.View.dispatchTouchEvent(View.java:<span class="number">7714</span>)</div><div class="line">    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:<span class="number">2210</span>)</div><div class="line">    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:<span class="number">1945</span>)</div></pre></td></tr></table></figure>
<h2 id="探索"><a href="#探索" class="headerlink" title="探索"></a>探索</h2><p>这种非必现的问题，第一步要找到能重现问题的场景。于是我就拼命地戳那个报错的 View，在不懈努力之下，还真重现了几次。异常的栈跟上面是一致的，看来 <code>event.getY()</code> 真能出错。<br>如果 <code>event.getY()</code> 这种基础的方法都能出错，那么系统的控件是如何防止这个错误的呢。<br>查看了 <code>NestedScrollView</code> 的源码，发现它的 <code>onTouchEvent</code> 的处理果然是有门道的。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/09/25/pointer-index-out-of-range/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-09-17T10:50:48.000Z"><a href="/2016/09/17/Screenshot-in-Non-UI-Thread/">2016-09-17</a></time>
      
      
  
    <h1 class="title"><a href="/2016/09/17/Screenshot-in-Non-UI-Thread/">如何在非 UI 线程截图</a></h1>
  

    </header>
    <div class="entry">
      
        <p>截图是一个很常见的需求，但网上常见的截图方法都是在主线程运行的。而这有一个隐患，就是卡。因为截图是通过调用 view.draw(canvas)，而这就会阻塞主线程的绘制流程引起卡顿。</p>
<p>我司的 App，为了解决卡顿的问题，是在后台线程进行截图的，同样也是调用 view.draw(canvas) 方法，如下方代码所示。第一次看到时挺讶异的，draw 还能在后台线程运行而不报错？介于使用该方法时一直很安全，从未报错，也就默默收起这个疑问。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/09/17/Screenshot-in-Non-UI-Thread/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-09-06T14:36:27.000Z"><a href="/2016/09/06/blog-speed-up/">2016-09-06</a></time>
      
      
  
    <h1 class="title"><a href="/2016/09/06/blog-speed-up/">Hexo 博客加速实践</a></h1>
  

    </header>
    <div class="entry">
      
        <p>最近打开博客的速度特别特别慢。慢到怎样的程度呢？打开篇文章要花 60s 以上，还经常死机。虽然博客没什么人看，但作为本博客最忠实的用户，实在不能忍。就花了点时间排查原因，优化速度。</p>
<h2 id="排查"><a href="#排查" class="headerlink" title="排查"></a>排查</h2><p>由于博客使用 Hexo 托管在 Github Pages 上，都是些静态文件的显示，速度慢的原因大致就是资源的加载速度问题。使用 Chrome Console 的 Network 工具，发现有一个发送到 fonts.useso.com 请求持续了几十秒。<br>然后在 Hexo 相应的 Theme 文件下使用<code>grep -rI fonts.useso.com .</code> 搜索相关字符串，发现了相关的 css 文件。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">font-title = "Lato", Helvetica Neue, Helvetica, Arial, sans-serif</div><div class="line">@<span class="keyword">import</span> url(<span class="string">"//fonts.useso.com/css?family=Lato:400,400italic"</span>)</div></pre></td></tr></table></figure></p>
<p>当初搭建博客的时候，为了提升加载速度将字体源从 google fonts 替换为 360 提供的前端公共库 CDN，也就是 fonts.useso.com。没想到现在变得这么不稳定。搜了下国内没有好的替换源，再加上 Lato 字体也就一处使用，索性删了。<br>再次打开 kaywu.github.io，发送到 fonts.useso.com 的请求没有了，速度果然快了不少。<br>但是，这还不够。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/09/06/blog-speed-up/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-08-28T02:48:34.000Z"><a href="/2016/08/28/Shape-Drawable/">2016-08-28</a></time>
      
      
  
    <h1 class="title"><a href="/2016/08/28/Shape-Drawable/">从代码创建 Shape Drawable</a></h1>
  

    </header>
    <div class="entry">
      
        <p>平时一直是用 xml 来写 Shape Drawable，但由于这次的背景是会根据状态变化不同的颜色，xml 就不能满足要求了。得从代码来构造相关的 Drawable 对象。</p>
<p>相关 xml 代码如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">"rectangle"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"10dp"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:width</span>=<span class="string">"2px"</span> <span class="attr">android:color</span>=<span class="string">"#ff000000"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>查看有个相关类叫 ShapeDrawable，根据里面的 Api 实现了类似的效果。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">float</span> radius = DensityUtil.dip2px(<span class="keyword">this</span>, <span class="number">10</span>);</div><div class="line"><span class="keyword">float</span>[] outerR = <span class="keyword">new</span> <span class="keyword">float</span>[]&#123;radius, radius, radius, radius, radius, radius, radius, radius&#125;;</div><div class="line">RoundRectShape rr = <span class="keyword">new</span> RoundRectShape(outerR, <span class="keyword">null</span>, <span class="keyword">null</span>);</div><div class="line">ShapeDrawable drawable = <span class="keyword">new</span> ShapeDrawable(rr);</div><div class="line">drawable.getPaint().setColor(<span class="number">0xff333333</span>);</div><div class="line">drawable.getPaint().setStyle(Paint.Style.STROKE);</div><div class="line">drawable.getPaint().setStrokeWidth(<span class="number">2</span>);</div><div class="line">code.setBackgroundDrawable(drawable);</div></pre></td></tr></table></figure></p>
<p>除了代码上相对繁琐之外，还有一点，ShapeDrawable 对 StrokeWidth 的处理不够完善，在边缘处的 Stroke 只显示了一半。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/08/28/Shape-Drawable/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-08-14T15:54:09.000Z"><a href="/2016/08/14/Single-Number/">2016-08-14</a></time>
      
      
  
    <h1 class="title"><a href="/2016/08/14/Single-Number/">Single Number</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Single-Number"><a href="#Single-Number" class="headerlink" title="Single Number"></a><a href="https://leetcode.com/problems/single-number/" target="_blank" rel="external">Single Number</a></h2><p>Given an array of integers, every element appears twice except for one. Find that single one.</p>
<p>Note:<br>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
<p>题目很简单，但有难度的是不使用额外空间。也就是说要使用一些比较 trick 的方法。<br>这让我想到以前碰到的一题，交换 Array 中两元素的位置，同样不使用额外空间，最后解法是使用 bitwise operation。<br>按照这思路去解题的话，很快就想到 xor 运算，相同得 0，不同得 1，题目就引刃而解了。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/08/14/Single-Number/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-07-31T08:48:06.000Z"><a href="/2016/07/31/Counting-Bits/">2016-07-31</a></time>
      
      
  
    <h1 class="title"><a href="/2016/07/31/Counting-Bits/">Counting Bits</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="https://leetcode.com/problems/counting-bits/" target="_blank" rel="external">Counting Bits</a><br>Given a non negative integer number num. For every numbers i in the range 0 ≤ i ≤ num calculate the number of 1’s in their binary representation and return them as an array. For num = 5 you should return [0,1,1,2,1,2].<br>给定一个非负整数 num，返回一个数组，数组中的值为 0 到 num 间相对应整数其二进制表示中 1 的个数。举例来说，若 num 为 5，则返回的数组为 [0,1,1,2,1,2]。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/07/31/Counting-Bits/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-07-24T07:34:37.000Z"><a href="/2016/07/24/Performance-Improvement/">2016-07-24</a></time>
      
      
  
    <h1 class="title"><a href="/2016/07/24/Performance-Improvement/">Android 性能优化实践小记</a></h1>
  

    </header>
    <div class="entry">
      
        <p>说来惭愧，看过那么多 Android 性能优化的文章，但这块实战经验微乎其微。抱着已经看过猪跑了，怎么着也得吃上猪肉的心态，尝试去解决某页面的卡顿。实践下来觉得是一次不错的经验，写文章记录下。</p>
<h2 id="发现卡顿"><a href="#发现卡顿" class="headerlink" title="发现卡顿"></a>发现卡顿</h2><p>在解决卡顿之前，你得发现哪里卡顿。这里多亏了 <a href="https://github.com/markzhai/AndroidPerformanceMonitor" target="_blank" rel="external">BlockCanary</a>，它是 Android 上一个性能监控组件，能很方便地发现卡顿的原因。<br>下面是 BlockCanary 显示卡顿信息的截图。<br><img src="/img/performance_improve_0.png" alt=""><br>可以看出，卡顿是由于 DateHelper.parseString 而引起的。<br>那接下来让我们看看 parseString 的具体代码。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">parseString</span><span class="params">(String dateString)</span> </span>&#123;</div><div class="line">    SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>, Locale.getDefault());</div><div class="line"></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="keyword">return</span> dateFormat.parse(dateString);</div><div class="line">    &#125; <span class="keyword">catch</span> (ParseException e) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>很简单的一段代码，将规定格式的 String 转换为 Date 对象，简单到貌似没有可以出错及优化的空间。<br>至此我们陷入了一个死胡同。我们查找到了疑似卡顿的原因，但是无法确认也不知如何优化。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/07/24/Performance-Improvement/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-07-17T11:52:03.000Z"><a href="/2016/07/17/Android-Storage-Note/">2016-07-17</a></time>
      
      
  
    <h1 class="title"><a href="/2016/07/17/Android-Storage-Note/">Android 存储笔记</a></h1>
  

    </header>
    <div class="entry">
      
        <p>一直搞不清 Android 常用文件夹的位置，做笔记整理下。顺便记录下自己在存储文件时踩的坑。<br>以包名为 com.kay.example 为例。</p>
<h3 id="内部储存"><a href="#内部储存" class="headerlink" title="内部储存"></a>内部储存</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">context.getCacheDir /data/data/com.kay.example/cache</div><div class="line">context.getFileDir /data/data/com.kay.example/files</div><div class="line">context.getDir /data/data/com.kay.example</div></pre></td></tr></table></figure>
<h3 id="外部存储"><a href="#外部存储" class="headerlink" title="外部存储"></a>外部存储</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">context.getExternalCacheDir /sdcard/Android/data/com.example.kay/cache</div><div class="line">context.getExternalFilesDir /sdcard/Android/data/com.example.kay/files</div><div class="line">Environment.getExternalStorageDirectory /sdcard/</div><div class="line">Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) /sdcard/Movies</div></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2016/07/17/Android-Storage-Note/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
    <a href="/page/2/" class="alignleft prev">上一页</a>
  
  
    <a href="/page/4/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:kaywu.xyz">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Algorithms/">Algorithms</a><small>3</small></li>
  
    <li><a href="/tags/Android/">Android</a><small>14</small></li>
  
    <li><a href="/tags/Front-End/">Front-End</a><small>2</small></li>
  
    <li><a href="/tags/Git/">Git</a><small>1</small></li>
  
    <li><a href="/tags/Gradle/">Gradle</a><small>1</small></li>
  
    <li><a href="/tags/Java/">Java</a><small>3</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>3</small></li>
  
    <li><a href="/tags/Python/">Python</a><small>2</small></li>
  
    <li><a href="/tags/Rails/">Rails</a><small>8</small></li>
  
    <li><a href="/tags/Ruby/">Ruby</a><small>4</small></li>
  
    <li><a href="/tags/Tools/">Tools</a><small>2</small></li>
  
    <li><a href="/tags/微信/">微信</a><small>2</small></li>
  
    <li><a href="/tags/编程/">编程</a><small>3</small></li>
  
    <li><a href="/tags/读书笔记/">读书笔记</a><small>5</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 Kay Wu
  
  <br>
  许可协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">署名-非商业性使用-相同方式共享 4.0</a><br>
  转载请保留原文链接及作者<br>
</div>
<div class="clearfix"></div>
</footer>
  <script src="https://apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'kay-wu';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
